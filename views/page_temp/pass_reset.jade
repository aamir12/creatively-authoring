doctype html
html
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
    meta(content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no', name='viewport')
    meta(content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0', name='viewport')
    meta(name='viewport', content='width=device-width')
    title  Examineer | Author Dash Board
    // Bootstrap core CSS
    link(href='../../../author_public/PaperDashBoard/css/bootstrap.min.css', rel='stylesheet')
    // Paper Dashboard core CSS
    link(href='../../../author_public/PaperDashBoard/css/paper-dashboard.css', rel='stylesheet')
    // Fonts and icons
    link(href='https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css', rel='stylesheet')
    link(href='https://fonts.googleapis.com/css?family=Muli:400,300', rel='stylesheet', type='text/css')
    // <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet' type='text/css'>
    link(href='../../../author_public/PaperDashBoard/css/themify-icons.css', rel='stylesheet')
    // <link rel = "stylesheet" href="author_public/css/author1.css">
    link(rel='stylesheet', href='../../../author_public/css/author.css')
    // <link rel="stylesheet" href="author_public/css/bootstrap-tagsinput.css" />
    // CSS for Demo Purpose, don't include it in your project
    link(href='../../../author_public/PaperDashBoard/css/demo.css', rel='stylesheet')
    link(rel='stylesheet', href='../../../author_public/plugins/daterangepicker/daterangepicker-bs3.css')
    link(rel='stylesheet', href='../../../author_public/dist/css/skins/_all-skins.min.css')
    link(rel='stylesheet', href='../../../author_public/plugins/colorpicker/bootstrap-colorpicker.min.css')
    script(src='../../../author_public/PaperDashBoard/js/jquery-3.1.1.min.js', type='text/javascript')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.12/clipboard.min.js')
    link(rel='stylesheet prefetch', href='https://s3-us-west-2.amazonaws.com/s.cdpn.io/438937/strength.css')
    link(href='../../../author_public/dist/css/pwstrength.css', rel='stylesheet', type='text/css')
    style(type='text/css').
      .navbar-inverse{
      background:#484541 !important;
      }
      .navbar{
      min-height: 74px !important;
      }
      ul.nav li:hover{
      background: #f4f3ef;
      }
      ul.nav li:hover a,a:hover{
      color:#66615b !important;
      }
      .footer{
      width:100%;
      border-top:solid 1px #e7e7e7;
      position:fixed;
      bottom:0;
      /* background: #333; */
      padding: 5px;
      }
      .footer > div > a{
      color:#484541;
      }
      .form-group, .input-group{
      border-bottom: solid 1px #e7e7e7;
      }
      #errModal .modal-content{
      background: #C70039;
      color: #FFF;
      text-align: justify;
      }
      #errModal .modal-body{
      font-size:16px;
      padding: 0 40px;
      }
      #errModal .modal-footer, .modal-header{
      border:none;
      }
      body{
      background-color: #f4f3ef;
      }
      input{
      /* border-radius: 12px !important; */
      background: transparent !important;
      border:none !important;
      }
      #login{
      background-size:contain;
      margin-top:6.5%;
      margin-bottom:50px !important;
      }
      #bg-img img{
      width:500px;height:400px;
      }
      .login-title, .error-msg
      {
      margin-bottom: 15%;
      color:#fff;
      border-radius: 12px;
      padding: 12px 0 12px 0;
      }
      .login-title
      {
      margin-top: 10%;
      margin-bottom: 7%;
      font-size: 28px;
      color: #66615b;
      padding: 8px 0 8px 0;
      }
      .error-msg{
      text-align: center;
      margin-top: -4%;
      margin-bottom: 2%;
      font-size: 14px;
      background-color:#D24A49;
      display: none;
      }
      .btn-form{
      font-size: 18px;
      width:100%;
      background-color:#66615b;
      border: none;
      color: #fff;
      padding: 12px 0 12px 0;
      border-radius: 12px;
      }
      .btn-form:hover{
      color:#fff;
      }
      button:disabled {
      opacity: 1 !important;
      }
      .quizDateValidation{
      display:none;
      background-color:#D24A49;
      color:#fff;
      text-align: center;
      z-index: 9999;
      }
      @media screen and (max-width: 800px){
      .login-title
      {
      font-size: 30px;
      }
      .login-area{
      }
      #bg-img img{
      width:130px;height:100px;
      }
      }
      .custom-css
      {
      height: 46px;
      padding: 10px 16px;
      font-size: 18px;
      line-height: 1.3333333;
      border-radius: 12px;
      border: 1px solid #ccc;
      }
  body
    div
      nav.navbar.navbar-inverse
        .container-fluid
          // Brand and toggle get grouped for better mobile display
          .navbar-header
            button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#bs-example-navbar-collapse-1', aria-expanded='false')
              span.sr-only Toggle navigation
              span.icon-bar
              span.icon-bar
              span.icon-bar
            a.navbar-brand(href='#') Examineer
          // Collect the nav links, forms, and other content for toggling
          #bs-example-navbar-collapse-1.collapse.navbar-collapse
            ul.nav.navbar-nav.navbar-right
              li
                a(href='https://examineer.in') Student
              li
                a(href='https://examineer.in/author') Author
              li
                a(href='#') Help
          // /.navbar-collapse
        // /.container-fluid
    #login.col-md-7.col-md-offset-5
      // col-md-offset-3
      .row
        //
          <div id="bg-img" class="col-md-5">
          <center><img class="img img-responsive" src="../../../author_public/images/forget.jpg" /></center>
          </div>
        #login-area.col-md-5
          .login-title(align='center')
            b Password Reset
          input#flagepass2(type='hidden')
          input#userId(type='hidden', value='#{userId}')
          input#token(type='hidden', value='#{token}')
          #alert_box1.box-body
            #done.alert.alert-success(style='display:none')
              b Done ! 
              | Password Changed.
          #alert_box1.box-body
            #mismatch.alert.alert-danger(style='display:none')
              b Error ! 
              small#error_string
          .login-area
            form#password_reset(role='form', name='password_reset', method='post')
              .form-group
                input#password.form-control(type='password', name='password', onkeypress='validate3()', onkeyup='validate3()', data-indicator='pwindicator', ng-model='register_data.password', placeholder='Password')
                #pwindicator
                  .bar
                  #pass_strength.label
              #retypepassword.form-group
                span#result4
                input#password2.form-control(type='password', name='password2', onkeyup='validate4()', ng-model='register_data.password2', placeholder='Retype password')
              br
              div(align='center')
                button#submitbutton.btn.btn-wd.btn-lg.btn-fill.btn-move-right(type='submit')
                  b Reset 
                  span.btn-label
                    i.ti-angle-right
    // Modal
    #errModal.modal.fade(role='dialog')
      .modal-dialog
        // Modal content
        .modal-content
          .modal-header
            button.close(type='button', data-dismiss='modal') ✖
          .modal-body
          .modal-footer
    // End Modal
    .footer
      .pull-right
        | © 2017, made by 
        a(href='#') examineer.in
  // Core JS Files. Extra: TouchPunch for touch library inside jquery-ui.min.js
  script(type='text/javascript', src='../../../author_public/MathJax/MathJax.js?config=TeX-MML-AM_CHTML', defer='')
  // <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
  script(src='../../../author_public/PaperDashBoard/js/jquery-3.1.1.min.js', type='text/javascript')
  script(src='../../../author_public/PaperDashBoard/js/jquery-ui.min.js', type='text/javascript')
  script(src='../../../author_public/PaperDashBoard/js/perfect-scrollbar.min.js', type='text/javascript')
  script(src='../../../author_public/PaperDashBoard/js/bootstrap.min.js', type='text/javascript')
  // Forms Validations Plugin
  script(src='../../../author_public/PaperDashBoard/js/jquery.validate.min.js')
  // Promise Library for SweetAlert2 working on IE
  script(src='../../../author_public/PaperDashBoard/js/es6-promise-auto.min.js')
  // Plugin for Date Time Picker and Full Calendar Plugin
  script(src='../../../author_public/PaperDashBoard/js/moment.min.js')
  // Date Time Picker Plugin is included in this js file
  script(src='../../../author_public/PaperDashBoard/js/bootstrap-datetimepicker.js')
  // Select Picker Plugin
  script(src='../../../author_public/PaperDashBoard/js/bootstrap-selectpicker.js')
  // Switch and Tags Input Plugins
  script(src='../../../author_public/PaperDashBoard/js/bootstrap-switch-tags.js')
  // Circle Percentage-chart
  script(src='../../../author_public/PaperDashBoard/js/jquery.easypiechart.min.js')
  // Notifications Plugin
  script(src='../../../author_public/PaperDashBoard/js/bootstrap-notify.js')
  // Sweet Alert 2 plugin
  script(src='../../../author_public/PaperDashBoard/js/sweetalert2.js')
  // Wizard Plugin
  script(src='../../../author_public/PaperDashBoard/js/jquery.bootstrap.wizard.min.js')
  // Bootstrap Table Plugin
  script(src='../../../author_public/PaperDashBoard/js/bootstrap-table.js')
  // Plugin for DataTables.net
  script(src='../../../author_public/PaperDashBoard/js/jquery.datatables.js')
  // Full Calendar Plugin
  script(src='../../../author_public/PaperDashBoard/js/fullcalendar.min.js')
  // Paper Dashboard PRO Core javascript and methods for Demo purpose
  script(src='../../../author_public/PaperDashBoard/js/paper-dashboard.js')
  script(src='../../../author_public/js/author.js')
  // <script src="author_public/js/bootstrap-tagsinput.min.js"></script>
  // Paper Dashboard PRO DEMO methods, don't include it in your project!
  script(src='../../../author_public/PaperDashBoard/js/demo.js')
  script(src='../../../author_public/bootstrap/js/jquery.pwstrength.js', type='text/javascript', charset='utf-8')
  script(src='../../../author_public/plugins/daterangepicker/daterangepicker.js')
  script(src='../../../author_public/plugins/colorpicker/bootstrap-colorpicker.min.js')
  script(type='text/javascript').
    jQuery(function($) { $('#password').pwstrength(); });
  script(type='text/javascript').
    //set the flagfor submit buttion
    function setflag(type,value)
    {
    if(type == 'flagepass2')
    {
    $("#flagepass2").val(value);
    }
    var pass2  = $("#flagepass2").val();
    if(pass2 == 'ok')
    {
    $("#submitbutton").slideDown( "slow" );
    }
    else
    {
    $( "#submitbutton" ).hide();
    }
    }
    //form submition code start here with jquery post methord
    //console.log('before submit event');
    $("#submitbutton").click(function() {
    //hide all alert box
    document.getElementById('mismatch').style.display="none";
    document.getElementById('done').style.display="none";
    var userInfo =
    {
    userId: document.getElementById("userId").value,
    token: document.getElementById("token").value,
    password: document.getElementById("password").value,
    password2: document.getElementById("password2").value
    };
    if(userInfo.password == userInfo.password2){
    //console.log('password match');
    $.post("#{post_linke}",userInfo, function(data){
    //console.log(data);
    if(data.status == 'error'){
    //console.log('In post error area');
    document.getElementById('error_string').innerHTML   = data.msg;
    document.getElementById('mismatch').style.display   = "block";
    }
    else if(data.status == 'success'){
    //console.log('in post success area');
    document.getElementById('done').style.display="block";
    }
    });
    }
    else
    {
    //console.log('password not match ');
    document.getElementById('error_string').innerHTML   = 'Password Mismatch !';
    document.getElementById('mismatch').style.display   = "block";
    }
    return false;
    });
    //function for disable the enter button on form submited
    $('#password_reset').on('keyup keypress', function(e){
    var keyCode = e.keyCode || e.which;
    if (keyCode === 13) {
    e.preventDefault();
    return false;
    }
    });
    //hide the retype password input type
    $( "#retypepassword" ).hide();
    $( "#submitbutton" ).hide();
    //validation for password is right or nor
    function validate3() {
    setTimeout(function(){
    $("#result").text("");
    var email = $("#pass_strength").val();
    var str = $( "#pass_strength").text();
    if(str == "Ok" || str ==  "Strong" || str ==  "Very Strong"){
    $("#retypepassword").slideDown( "slow" );
    }
    else{
    $("#retypepassword").slideUp("slow");
    }
    },300);
    }
    //check the password is match or nor
    function validate4() {
    var pass1 = $("#password").val();
    var pass2 = $("#password2").val();
    if(pass1 == pass2){
    $('#alert4').remove();
    $( "#result4" ).append("<label class='control-label' id='alert4' for='inputSuccess' style='float:right; color:#3d9970;'>&#x2714; Ok</label>");
    setflag('flagepass2','ok');
    }
    else{
    $('#alert4').remove();
    $( "#result4" ).append("<label class='control-label' id='alert4' for='inputSuccess' style='float:right; color:#f56954;'>&#x292C; Mismatch</label>");
    setflag('flagepass2','error');
    }
    }
